{"version":3,"sources":["webpack:///./src/templates/project.js","webpack:///./src/utils/injectStyle.js","webpack:///./src/components/headpic.js","webpack:///./src/components/footer.js","webpack:///./src/components/layout.js"],"names":["Project","_ref","pageContext","data","project","transitionStatus","entry","exit","uid","allPrismicProject","edges","node","_useState","useState","deployed","setDeployed","useEffect","setTimeout","bind","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_2__","className","style","borderColor","color","gatsby_image__WEBPACK_IMPORTED_MODULE_4___default","fluid","cover","localFile","childImageSharp","name","text","query","injectStyle","styleElement","document","styleSheet","head","appendChild","sheet","insertRule","cssRules","length","HeadPic","pic","_3371093467","react_default","gatsby_image_default","fixed","file","Footer","profile","_3899957290","onClick","event","prismicProfile","title","location","headpic","bio","raw","map","p","key","Date","getFullYear","href","Layout","children","wheelLevel","setWheelLevel","_useState2","status","setStatus","projects","_4203411656","projectsElements","item","gatsby_plugin_transition_link_default","to","slugs","trigger","_ref2","e","state","mode","_ref3","delay","id","onMouseEnter","tags","tag","slug","backgroundColor","year","projectPictures","gradient","n","Math","round","join","blockColor","Fragment","footer"],"mappings":"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","file":"component---src-templates-project-js-13f14129261b2a5991d1.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport TransitionLink from \"gatsby-plugin-transition-link\"\n\nimport Img from \"gatsby-image\"\n\n\nconst Project = ({ pageContext, data, transitionStatus, entry, exit}) => {\n    const uid = pageContext.uid;\n    const project = data.allPrismicProject.edges[0].node.data;\n    \n    const [deployed, setDeployed] = useState(false);\n    useEffect(() => setTimeout(function() { setDeployed(true) }.bind(this), 10), []);\n    return (\n        <Layout>\n            <div>\n                <div className=\"container\">\n                    <header>\n                        <div className={\"cover \" + (deployed? \"deployed\" : \"\")} style={{ borderColor: project.color}}>\n                            <Img  fluid={project.cover.localFile.childImageSharp.fluid} />\n                        </div>\n                        <h1 style={{color: project.color}}>{project.name.text}</h1>\n                        <h1>{project.name.text}</h1>\n                    </header>\n                </div>\n            </div>\n        </Layout>\n    )\n}\nexport default Project\n\n\nexport const query = graphql\n    `\n    query($uid: String) {\n        allPrismicProject(filter: {uid: {eq: $uid}}) {\n            edges {\n                node {\n                    data {\n                        color\n                        for\n                        name {\n                            text\n                        }\n                        cover {\n                            localFile {\n                                childImageSharp {\n                                    fluid(maxWidth: 400, maxHeight: 250) {\n                                        ...GatsbyImageSharpFluid\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    slugs\n                    uid\n                }\n            }\n        }\n    }\n    `","const injectStyle = (style) => {\nconst styleElement = document.createElement('style');\nlet styleSheet = null;\n\ndocument.head.appendChild(styleElement);\n\nstyleSheet = styleElement.sheet;\n\nstyleSheet.insertRule(style, styleSheet.cssRules.length);\n};\n\nexport default injectStyle;","import React, { useState } from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\n\n\nconst HeadPic = () => {\n    const pic = useStaticQuery(graphql`\n    query {\n        file(relativePath: { eq: \"gatsby-icon.png\" }) {\n            childImageSharp {\n                fixed(width: 75, height: 75) {\n                    ...GatsbyImageSharpFixed\n                }\n            }\n        }\n    }`)\n\n    return(\n        <Img fixed={pic.file.childImageSharp.fixed} />\n    )\n    \n}\n\nexport default HeadPic","import React, { useState } from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport HeadPic from \"./headpic\"\n\nconst Footer = () => {\n    const [deployed, setDeployed] = useState(\n        false\n    );\n\n    const profile = useStaticQuery(graphql`\n    query {\n        prismicProfile {\n            data {\n                bio {\n                    raw {\n                        text\n                    }\n                }\n                github {\n                    url\n                }\n                location\n                title\n                linkedin {\n                    url\n                }\n                resume {\n                    url\n                }\n            }\n        }\n    }`)\n\n    return(\n        <footer className={ deployed ? \"open\": \"\"}>\n            <div className=\"block\" onClick={event => setDeployed(!deployed)}>\n                <div className=\"position\">{profile.prismicProfile.data.title}</div>\n                <div className=\"location\">! {profile.prismicProfile.data.location}</div>\n            </div>\n            <div className=\"name\" onClick={event => setDeployed(!deployed)}>Vincent Giardina</div>\n            <div className=\"content\">\n                <HeadPic/>\n                { profile.prismicProfile.data.bio.raw.map((p) => <p className=\"bio\" key={\"text-\" + p.text}>{p.text}</p> ) }\n                <h1>Credits</h1>\n                Â© {new Date().getFullYear()}, Built with\n                {` `}\n                <a href=\"https://www.gatsbyjs.org\">Gatsby</a>\n            </div>\n        </footer>\n    )\n}\n\nexport default Footer","import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport injectStyle from '../utils/injectStyle';\nimport { Link } from \"gatsby\"\nimport TransitionLink from \"gatsby-plugin-transition-link\"\nimport anime from \"animejs\"\n\nimport Footer from \"./footer\"\nimport Img from \"gatsby-image\"\nimport \"./layout.css\"\n\nconst Layout = ({ children }) => {\n  const [wheelLevel, setWheelLevel] = useState(\n    0\n  );\n\n  const STATUS_MENU = \"menu\";\n  const STATUS_TRANSITION = \"transition\"\n  const STATUS_PROJECT = \"project\"\n  const [status, setStatus] = useState(\n    STATUS_MENU\n  );\n\n  const projects = useStaticQuery(graphql`\n  query {\n    allPrismicProject {\n      edges {\n        node {\n          data {\n            color\n            for\n            name {\n              text\n            }\n            with\n            year\n            tags {\n              tag {\n                raw {\n                  slug\n                }\n              }\n            }\n            cover {\n              localFile {\n                childImageSharp {\n                  fluid(maxWidth: 400, maxHeight: 250) {\n                    ...GatsbyImageSharpFluid\n                  }\n                }\n              }\n            }\n          }\n          slugs\n        }\n      }\n    }\n  }\n  `)\n\n\n  // TODO: keep the header?\n  // TODO: appropriate way to import the image\n  // TODO: add a graphical signature indicating the current project in the wheel  \n\n  const projectsElements = projects.allPrismicProject.edges.map((item, key) =>{\n          const animOut = (node, e, exit, entry) => {\n            setStatus(STATUS_TRANSITION);\n          }\n          const animIn = (node, e, exit, entry) => {\n            setStatus(STATUS_PROJECT);\n          }\n          return(\n            <TransitionLink to={ \"/\" + item.node.slugs[0] }\n            exit={{\n              trigger: ({ node, e, exit, entry }) => animOut(node, e, exit, entry),\n              length: 0.5,\n              state: {\n                mode: \"in\"\n              }\n            }}\n            entry={{\n              trigger: ({ node, e, exit, entry }) => animIn(node, e, exit, entry),\n              length: 0.5,\n              delay: 0.5\n            }}\n            >\n              <div className=\"project\" id={key} onMouseEnter={event => setWheelLevel(key)}>\n                  <h1 style={{color: item.node.data.color}}>{item.node.data.name.text}</h1>\n                  <h1>{item.node.data.name.text}</h1>\n                  {\n                    item.node.data.tags.map((tag) => <div className=\"tag\" key={tag.tag.raw.slug+key} style={{ borderColor: item.node.data.color}}>{tag.tag.raw.slug}</div>)\n                  }\n                  <div className=\"year\" style={{ backgroundColor: item.node.data.color}}>{item.node.data.year}</div>\n              </div>\n            </TransitionLink>\n          )\n        }\n    );\n  \n  const projectPictures = projects.allPrismicProject.edges.map((item, key) =>\n        <div className=\"postcard\">\n            <Img className={ key == wheelLevel ? \"selected\" : \"\" } style={{ borderColor: item.node.data.color}} fluid={item.node.data.cover.localFile.childImageSharp.fluid} />\n        </div>\n  );\n\n  const gradientSteps = projects.allPrismicProject.edges.map((item, key) => {\n    const n = projects.allPrismicProject.edges.length\n    const p = Math.round(key * (100 / n));\n    return(p + \"% {background-color: \" + item.node.data.color +\";}\")\n  })\n  const gradient = `\n    @keyframes gradient {\n      `+ gradientSteps.join(\" \") +`\n    }\n  `;\n  const blockColor = `\n    footer.open .block{\n      background-color: ` + projects.allPrismicProject.edges[0].node. data.color + `;\n    }\n  `\n  injectStyle(gradient);\n  injectStyle(blockColor);\n\n  return (\n    <>\n      {/* <Header siteTitle={data.site.siteMetadata.title} /> */}\n      <div className=\"container\">\n        <div className={\"wheel level-\" + wheelLevel + \"\" + (status == STATUS_TRANSITION?\" deployed\":\"\")}>\n          {projectPictures}\n        </div>\n        <div className={\"store level-\" + wheelLevel + \"\" + (status == STATUS_TRANSITION?\" deployed\":\"\")}>\n          {projectsElements}\n        </div>\n        {/* TODO: write the good adress */}\n        <div className=\"hey\">bonjour@giardi.fr</div>\n        <main className={(status == STATUS_PROJECT?\"open\":\"\")}>{children}</main>\n        <Footer/>\n      </div>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n\n"],"sourceRoot":""}